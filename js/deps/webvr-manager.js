/**
 * Helper for getting in and out of VR mode. VR mode == full screen mode.
 *
 * 1. Detects whether or not VR mode is possible by feature detecting for
 * WebVR (or polyfill).
 *
 * 2. If WebVR is available, provides means of entering VR mode:
 * - Double click
 * - Double tap
 * - Click "Enter VR" button
 *
 * 3. Provides best practices while in VR mode.
 * - Full screen
 * - Wake lock
 * - Orientation lock (mobile only)
 */
function WebVRManager(effect) {
  // Save the THREE.js effect for later.
  this.effect = effect;
  // Create the button regardless.
  this.vrButton = this.createVRButton();

  // Check if the browser is compatible with WebVR.
  this.isHMDAvailable().then(function(isCompatible) {
    if (isCompatible) {
      this.setMode(Modes.COMPATIBLE);
      // If it is, activate VR mode.
      this.activateVR();
    } else {
      this.setMode(Modes.INCOMPATIBLE);
    }
  }.bind(this));

  this.os = this.getOS();
}

var Modes = {
  // Incompatible with WebVR.
  INCOMPATIBLE: 1,
  // Compatible with WebVR.
  COMPATIBLE: 2,
  // In virtual reality via WebVR.
  IMMERSED: 3,
};

/**
 * True if this browser supports WebVR.
 */
WebVRManager.prototype.isWebVRCompatible = function() {
  return 'getVRDevices' in navigator ||
      'mozGetVRDevices' in navigator ||
      'webkitGetVRDevices' in navigator;
};

/**
 * Promise returns true if there is at least one HMD device available.
 */
WebVRManager.prototype.isHMDAvailable = function() {
  return new Promise(function(resolve, reject) {
    navigator.getVRDevices().then(function(devices) {
      for (var i = 0; i < devices.length; i++) {
        if (devices[i] instanceof HMDVRDevice) {
          resolve(true);
          break;
        }
      }
      resolve(false);
    });
  });
};

WebVRManager.prototype.isVRMode = function() {
  return !!(document.isFullScreen ||
      document.webkitIsFullScreen || document.mozFullScreen);
};

WebVRManager.prototype.createVRButton = function() {
  var button = document.createElement('button');
  var s = button.style;
  s.position = 'absolute';
  s.top = 0;
  s.right = 0;
  s.width = '64px';
  s.height = '64px';
  s.backgroundSize = 'cover';
  s.backgroundColor = 'transparent';
  s.border = 0;
  document.body.appendChild(button);
  return button;
};

WebVRManager.prototype.setMode = function(mode) {
  switch (mode) {
    case Modes.INCOMPATIBLE:
      this.vrButton.style.display = 'none';
      break;
    case Modes.COMPATIBLE:
      this.vrButton.style.display = 'block';
      this.vrButton.style.backgroundImage = this.base64Image('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');
      break;
    case Modes.IMMERSED:
      this.vrButton.style.display = 'block';
      this.vrButton.style.backgroundImage = this.base64Image('iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAELtJREFUeNrsnb9yG8kRhweLCy6kH4DS+gkEZVcqVWmZ3UUis3N0YOhIZOiI4hMQfAJCoSNRmTOuqq6UCsqc3UpMzpHp7BzZM2TjBOkAYheYnb/fV4UCJUrA7sz2b7p7emYGCqLlyZOnO/ptJH+s5P2hfpXy8+LvN2WmXzfyc6NfH+Xnev77d+9+vqE34mRAE0Rh6CMxavP+SAy7CuwyaxGKDyIajRaGGb2HAEB3Y6/E0EcWRvAQhGE2FwZEAQGALw2+EoN/FuCo3gc3IghvjThoQah5ChCAHEf455kYfBtBqEUQLrUgNDQJApCa0e/LCL+vPifoYDlGAC716xXhAgIQu9E/F6PfoUUQAwQgD/f+BUbfqxicEyYgACEZvTH0sRg+7r0bjDdwLjkDahAQAC+GX+m3n8T4wQ834hWc4hUgAK4M3xj8CaN9cNQSHlzSFAhAH27+kbj5xPbh5wqMRzClKRCAbQ2/FKMfY/hRhgcmTzAhT4AAbGL4J8T3CAECkKerf0JrJCkEJjSY0BQIADE+OQJyBAgAWf2MqUUIagQgT8M3VXtnigU5uTNVGdcRDDI0/B0Z8Y949iH3/MAgM+M3NfoXxPmwAlNifJjTwqNBJoZfiuHj7kMbJuIR3CAA8Rv/fFqPUR+60Ig3UCMA8cb6rxn1YVtvQIvAMQJArA/kBmYIQPijPhl+6IMkZwoGCRn/SEb9Ec8q9MileAM3CAAuP+RJo18HKYQERQLGb6r5XmP84JBSv66kjBwPwGO8T5YffBP1LMEgUuMn3oeQqCUkuEEA+jf+CpcfAmQmItAgAP0Z/1hGfoAQMR7AXkzJwSIi43+J8UPgGK/0SmalomAYifEbw6e4B2LgW/36cXf3wcfr608zBMCO8Y95riAy9mMQgSHGD9CrCAy0CNShXuAgUMO/jaUU03yQBtN3734+xAPA+CFPRtoTKLUn8Ca0CwtxFgDjhxQZS0iLB7Am5v+eZwUS9gSCygkMAzP+Mc8IJE4V0uzAEOMHcE4wU4RFAMb/EuOHDLkIoWJw4Nn4jeFT3gu54n3twMCj8VfqLuMPkLsIPPa1irDwZPxmmu81fQ9wu4DotdS/pC8AcqPs3wfwGW8Dog8P4LWi0AfgayrZ39IpTqcB5QZ/pK8BlvKd6+nBgUPj3yfuB1iL05mBgSPjNy7/FXE/QCsadTcz0Psmo4UD4yfpB9CNUjmqj3GRBDRn9ZH0A+jGvhxtH28IQNwPEHY+oOjR+HcUZb4A29C7DfUZAnB4B8D2jPqsD+hFACR2qeg7ACscydqZ8HMA+kJL/fae0R/AKo3qYWqwDw+AKT8A+5iB9SRoD4CsP0DvPLY5K1BYNH6y/gD9Y9XGbIYAJ7j+AL0zslkgZCUEkFr/9/QNgBOs7SJkywM4o08AnLGjLCUEtxYA2dizok8AnDK2URtQbGn81pQIADpz4lUANCYZUdIPAF6oxAN3LwAy+r+gDwDi9QK28QDM6M+0H4Bfym2mBTeaBpR6/19oe4AgMNOCf95kncCmHgCJP4Bw2BGPvH8PgNEfIB0vYBMPgMQfQCJeQCcBkMz/mLYGCJIXvQqAIvMPELQX0LUuoKsA4P4DhM1JLwIgysLoDxA2pWzMY90DYOoPILFcQCsBkFVHJe0KEAWVTNdb8wB+ok0B0ssFrC0Ekqm/f9OeAFHRqjCojQcwpi0BosMM3GuTgW0EgKk/gDh5sZUAyGafJe0IECWjdcnAdR4Aoz9Awl7AOgHYp/0AomZ/IwGQaiIq/wDippRQfinf3PMfn9N23Xj37ueBr++WYq0rT19/oO/9suf7M/dW8ZRthKnjmXUNAXD/4xKfWr9NPHz1pG/jh/7CgAL3PylO1d058q6YyXdCpGHAKg/gGW0WpRdgqr4OHX3d7XdtshEleAsDWgsA7n/cocDUhbdh85x68BMGFEvcf4p/4udYRui+uNTGP6GZowsDyjYeQEVbEQqsc/1p5TS8gGUCwPRfGiJgMvN9ZOcPiPuj5RkeQF4cWg4FTiXHAHFS3SsANs4bh2RDgZn+vJe0atTsfG3jBaM/oUDLuP+A1kzPCyjWxQhAKKA51kLS0Izp5QHwAPIJBY43/O9mym9KKybDaKkA3LdiCJIQAWPEdcf/1iim/FLMA4yWeQCM/oQCX8OUX+JewKIAPKJdkvcCzIjedvEOpb7p8miZABAC5CECkxahQM2UX34eAAJAKKAUpb458Hu4f7uDjSQF3tMuW7PXcTSufV2o7nNz1PvZirj/0tE1VB3++RmDlFUemxBvviVYSXtY4aqjAZjddI59XKgJBfT3P1dfJn8nDo1/lQCBG4zNzwrcf68cdTnKuedQwNnuPnLUPMYfQB5gLgDMAPjjou1Jrj14AY1+O5+LgYspPwk3MX7/PFoUAPb/84dp+9dyCKsPEXgpcf/MgfHvSJjE8xbGc/e7AFS0h3d3zNuo6CLux/iD49bmC18jD/yBscTGqUIWPzCM7Rd0SlhGkuKaDH1PxvjHdG94nmdBG5AP6Nn4jeEf0bVhUhD/B0epXxeJGP8olXtJNQ+ABxAm+1IoE7PxGyG7oivD9wAe0gzB5gOqSI3/NpRRZPxD52GhKAMOmVjzAcbtJ7kcQbhJCBA285E0ptHfGD9Hy0UUAuCmhU0l02gxGP9YMd0X1QBDHUAc+F401Mb4K0XGPzaoA4gprva1aKiF8Y9iC1XgcwgAEeUDQksKyvVcEEoiAODAZVPhLaW9IoxEAMAdwSwakow/xo8AgGO8LxqSpOSYrkAAwE8+4MJzPqBWd9uIAQIAnvIB3qbdZPswc2IwJwchAOAJr4uGZE9BzhBAAMAjXkdg2U7slG5AAMA9pyEc3S0bi17SHQgAuGMa2Pl9JhQgKYgAgANm2viDir0lKdj1+HFAAKAjjep4BqFDETAewDFdhABAP9xOvbk4wWcLEZjqtwldhQBAD3G2ixN8LIiA8QJquisOASBxEwfHrk7utcSBhCsQLrenA5O0CR+T8Y/KrV6oFISAQ0pCgAhUOrSMfwcRMN4llYKBhwC4aeFi+mYv5huQpOCUrgzz+TIC8JF2CNM9U4Fn/DuIAEVCYfKRECBcosj4d2BPkW8KMgSoaYbgiC3j38YLICkYHjUeQHhEl/HvIAJmsKFSMDAPgNgsHKLN+HcQASNuU7o6jOetSCHJlAiNijzj3yXEYeAJIyybhwDkAfziLONv9hHUr198HjLCdmJhxP/zEEDREd5xmfE3J/iUyvNJPmwnFsSg87sAfKA9vBq/k4y/HvVf6rdK/jiSP/sUAbYT88eHRQEgHvPD1NWWXnJ458lXf33i+3wBthPzxq3NfyN/aGgPK+x1fPhrR8Y/P79vGeZ8gT3PyWATCpx3+PdXPGpbc2vzg4WH5H+0ydaj2SDE69J9a+L9+44Xn8ga/ijgWbX3rC4WAtU0S3rIuQH7a/7ZkYQIkJH7/7UAkAdIz/i7nCZ8EdrR4+BWAJgJSMv4jTF3meorlcejxsApH/AA0udCjLoL+3LqL6RN/QcBkEIUCoLyifsJBTJlseisWBUbQBZx/zK6hg4Q6ei/TADe0j7Rx/024vjK56nD0Ctv7xOAmvaJGjPy26rsO/G5YAg8eABSmUYeIM7Rf6zfxhY/0pY3AWHF//eGAHgBecb994UCL2nhNEf/VQJAHiDOuL+vzL33BUNgjTdtBICVWfnG/asgFMjFA5CNGhraKsu4fxVm74AzWjxqmmWbzqzaFRgvIN+4fxUsGIqbpTa9SgBe0V7B02fcv/I7qRKMlretBUBcBcKAcEd/F3H/MkrHXgfY4WbVtnNFV5cBvBu/qfH3WaU3ZsFQGu6/YbAmxnxP2wFEz8EqD2CwZrT5RXVfUgoAYbn/f1r1y3VnAxIGACTq/rcRgHPaDyBqzjcWACkKYo8AgDhp1p041eZ4cLwAgARH/7YCYGIIlggDxMd0awGQE2NIBgJEZvxtTnsqWn4YBzgCxEWrcv5WAiDJwJo2BYiCpu25k0WHDyUZCBAHrT32TodZUhkIEDz3Vv5t4wGQCwAIn06eeicB0MoyVUwJAgQ7+uvXpDcBIBcAEDStpv62FYAJXgBA/O7/RgIgCoMXABDe6N/0LgB4AQBBslGCfrjJf7q+/vTb7u6D/+ofv6fdAfwb/6odf/ryAEwoYLyAhrYH8ErnzL8VAdjG7QAAa5x3zfxbEwCpC6jpAwAvNNuM/jY8ALwAAL+x/1bJ+OG2V3B9/anZ3X1QKj8HVQDkSq2N/3jbDyksXYzxApgWBHDHsY0PGdr4EO0F3DAtCOCMiR79rZzfacsDmE8LsoMwQL/cKIt5t8LyxR3SPwC9crht4s96CLAQCvyqQwFzfPR39BOAdUzi7282P7Do4SKNe9LQVwDWXX/rHrZ1ARD3hFAAwPLAuslqP6chwEIo0BAKAFh1/f/axwcXfV2xFCkwKwCwvet/0NeHFz1f/KGiQAhgKxuymfV3EgIshAK/UiAEsDGm4KfX3bf69gDmBUKcLQjQDRM+977QrnB0MyYUaOhTgNZxf6+uv1MBkBs5IB8A0Drud5JAH7q6I8kH/Ev/uE//AviL+70IgIjAjPoAgJWY+f6/uPzCwvUdSn1ATV8DfMFM9TjfH4wACAeKIiGAOc6Sfl8z8HXHT548LfXbe/3aof8hc/a08Xvxin15AEoWNuwpZgYgbw59Gb9XARARMGEAKwchV05la31vDH23wPX1p3/u7j74qJgehLyY2tjVN3oBEBGYIQKQmfEH4fkOQ2kREQGTlKx4PgDjz0wARARqDhmBhJlp4/8hpAsqQmshUccpzwqkZvzqbtYrKIYhtpT2BN7gCUBqxu+j0CdKAVgQAXICkELM/4N+nn8L8eKGIbec5ASYHYCYjT/oOpdh6C3IFCFg/BkLwIIIfFB3ewt+y7MFgXMaQpFPGwYxteqTJ09NUvBKsYAIwuXQd3lvsgIgIlDqt9eKGQIIi9tt73wu7NmEIrZWXlhFWPPMQSDMp/mieyYHMbe69gbO9NsRzx94pJaRP8pl7YPYW1+LwFi/nZEXAA9MYkn2JSsAIgIjyQuUPJPgKN43yb7oD7wpUugN2VjkseIEInAX7yfxrA1T6RVTaqlff9/dffAfdbftOPUCYN3ll5G/SeWGBin2koQEF4qpQsDlz08AFoSAWQLYllpFnOXPWgBEBCrxBkqeZeg46p/K6dbJMky9F6+vPzW7uw9eSU6AI8mg7aj/gzb+f6R+o4OcepXcAOQa6yMAXwqByQucKIqH4DMTcfmzOqhmkGtvy6IiIwJjnv3s3f1jqSXJjkHuvS9JQiMEFbaQFY0K4GQeBCAcIRiLEJS0RvJx/rm6q+PP/lxKBID8QE6cYvgIQBsRMMZvhOAFQpAEU3H3G5oCAUAI8nH1jeGfY/gIADkCYnxAAKwIwb54BBWtERSNIquPADgUglI8gn3CA+/x/asY9+NDANLJE8y9AkqM3Y32xs2f4uYjAKF5BS9EEMgV2I/tTY3+ea5VewhAXGJgvIGfEAMrRv8mpwU6CABikLt7b4z9LUaPAKQaJhgheKbuZhJIIN4tyHlj3nHvEYDcBKESITCCMMpEEIzBvxWDr3kKEAD4Mlwwr0fyXkV+SzN5fWCERwBgc1EoF4RhJ0BhMCP5jRi6MfIGY0cAoF9h2FGfaw/mgvBQfU40Lv5+mxF8Ptfe6NfHBYO//T1z8fHyfwEGAAPhr4jpEIX8AAAAAElFTkSuQmCC');
      break;
  }
};

WebVRManager.prototype.base64Image = function(base64) {
  return 'url(data:image/png;base64,' + base64 + ')';
};

/**
 * Makes it possible to go into VR mode.
 */
WebVRManager.prototype.activateVR = function() {
  // Make it possible to enter VR via double click.
  window.addEventListener('dblclick', this.enterVR.bind(this));
  // Or via double tap.
  window.addEventListener('touchend', this.onTouchEnd.bind(this));
  // Or via clicking on the VR button.
  this.vrButton.addEventListener('click', this.onButtonClick.bind(this));
  // Or by hitting the 'f' key.
  window.addEventListener('keydown', this.onKeyDown.bind(this));

  // Whenever we enter fullscreen, this is tantamount to entering VR mode.
  document.addEventListener('webkitfullscreenchange',
      this.onFullscreenChange.bind(this));
  document.addEventListener('mozfullscreenchange',
      this.onFullscreenChange.bind(this));

  // Create the necessary elements for wake lock to work.
  this.setupWakeLock();
};

WebVRManager.prototype.setupWakeLock = function() {
  // Create a small video element.
  this.wakeLockVideo = document.createElement('video');

  // Loop the video.
  this.wakeLockVideo.addEventListener('ended', function(ev) {
    this.wakeLockVideo.play();
  }.bind(this));

  // Turn on wake lock as soon as the screen is tapped.
  triggerWakeLock = function() {
    this.requestWakeLock();
  }.bind(this);
  window.addEventListener('touchstart', triggerWakeLock, false);
};

WebVRManager.prototype.onTouchEnd = function(e) {
  // TODO: Implement better double tap that takes distance into account.
  // https://github.com/mckamey/doubleTap.js/blob/master/doubleTap.js

  var now = new Date();
  if (now - this.lastTouchTime < 300) {
    this.enterVR();
  }
  this.lastTouchTime = now;
};

WebVRManager.prototype.onButtonClick = function() {
  this.toggleVRMode();
};

WebVRManager.prototype.onKeyDown = function(e) {
  if (e.keyCode == 70) { // 'f'
    this.toggleVRMode();
  }
};

WebVRManager.prototype.toggleVRMode = function() {
  if (!this.isVRMode()) {
    // Enter VR mode.
    this.enterVR();
  } else {
    this.exitVR();
  }
};

WebVRManager.prototype.onFullscreenChange = function(e) {
  var isVRMode = this.isVRMode();
  console.log('isVRMode', isVRMode);
  if (isVRMode) {
    // Orientation lock.
    screen.orientation.lock('landscape');
    // Set style on button.
    this.setMode(Modes.IMMERSED);
  } else {
    // Unlock orientation.
    screen.orientation.unlock();
    // Relinquish wake lock.
    this.releaseWakeLock();
    // Go back to compatible mode.
    this.setMode(Modes.COMPATIBLE);
  }
};

/**
 * Add cross-browser functionality to keep a mobile device from
 * auto-locking.
 */
WebVRManager.prototype.requestWakeLock = function() {
  this.releaseWakeLock();
  if (this.os == 'iOS') {
    // If the wake lock timer is already running, stop.
    if (this.wakeLockTimer) {
      return;
    }
    this.wakeLockTimer = setInterval(function() {
      window.location = window.location;
      setTimeout(window.stop, 0);
    }, 30000);
  } else if (this.os == 'Android') {
    // If the video is already playing, do nothing.
    if (this.wakeLockVideo.paused === false) {
      return;
    }
    this.wakeLockVideo.src = 'data:video/webm;base64,' + 'GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAABNyRFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEsTbuMU6uEHFO7a1Osgk1k7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEEq17GDD0JATYCLTGF2ZjUzLjIxLjFXQYtMYXZmNTMuMjEuMXOkkALzXU1Cl0vV9klxu4J7tH9EiYhA3UwAAAAAABZUrmsBAAAAAAAAO64BAAAAAAAAMteBAXPFgQGcgQAitZyDdW5khoVWX1ZQOIOBASPjg4QCYloA4AEAAAAAAAAGsIEguoEgH0O2dQEAAAAAAAzL54EAo0GKgQAAgLALAJ0BKiAAIAAARwiFhYiFhIgCAgBPIPxf8M/2gswf61+O37JaNX8VfySzB+gzfkdrxP8Z9gPxBf0H3Aez75e/0/uBfx/+Y/4/8qeMz/VX2v+WYLBNIiVzA8Wzfw40r2RZNt96gAD+//8DYxkoX0n//lVgNdsoCvAS0SHUCEfAzS7Y7Bvnpq/Zr4MF1MYN1FT0w9U3kPCTVbH4Z3/9No/EJZ1/QB/IU3n8gpX/xLICnkAvxAffOHf8UH2MTnM3aJjgsKBH/AtXUSoPHrrHzoYZU/pe8G7qS6mQdfgx7QVUhf//BtCf6njMfYlW4O35eUWMf/2qb/Gmvlpd513T4Xap6+5UEWgoalf1fD03wuRfY7JFZZs2C/OCwMy9NgCAL2eCjSo496eHHX14At4Ac18o5mw+cssQolE94ziMxKMg5qZCZlDxbhThH+Mk5KD+qv7Lwopmj4pESUzgNz+jqomyMifi+gttdVJSLks/BB9X9BJR0OhGHNrJwaJf+SuucVywg+GgAKOVgQAoALEBAAEQEAAYABhYL/QAJDgAo5WBAFAAsQEAARAQABgAGFgv9AAkOACjlYEAeACxAQABEBAAGAAYWC/0ACQ4AKOVgQCgALEBAAEQEAAYABhYL/QAJDgAo5WBAMgAsQEAARAQABgAGFgv9AAkOACjlYEA8ACxAQABEBAAGAAYWC/0ACQ4AKOVgQEYALEBAAEQEBRgAGFgv9AAkOAAo5WBAUAAsQEAARAQABgAGFgv9AAkOACjlYEBaACxAQABEBAAGAAYWC/0ACQ4AKOVgQGQALEBAAEQEAAYABhYL/QAJDgAo5WBAbgAsQEAARAQABgAGFgv9AAkOACjlYEB4ACxAQABEBAAGAAYWC/0ACQ4AKOVgQIIALEBAAEQEAAYABhYL/QAJDgAo5WBAjAAsQEAARAQABgAGFgv9AAkOACjlYECWACxAQABEBAAGAAYWC/0ACQ4AKOVgQKAALEBAAEQEAAYABhYL/QAJDgAo5WBAqgAsQEAARAQFGAAYWC/0ACQ4ACjlYEC0ACxAQABEBAAGAAYWC/0ACQ4AKOVgQL4ALEBAAEQEAAYABhYL/QAJDgAo5WBAyAAsQEAARAQABgAGFgv9AAkOACjlYEDSACxAQABEBAAGAAYWC/0ACQ4AKOVgQNwALEBAAEQEAAYABhYL/QAJDgAo5WBA5gAsQEAARAQABgAGFgv9AAkOACjlYEDwACxAQABEBAAGAAYWC/0ACQ4AKOVgQPoALEBAAEQEAAYABhYL/QAJDgAo5WBBBAAsQEAARAQABgAGFgv9AAkOACjlYEEOACxAQABEBAUYABhYL/QAJDgAKOVgQRgALEBAAEQEAAYABhYL/QAJDgAo5WBBIgAsQEAARAQABgAGFgv9AAkOACjlYEEsACxAQABEBAAGAAYWC/0ACQ4AKOVgQTYALEBAAEQEAAYABhYL/QAJDgAo5WBBQAAsQEAARAQABgAGFgv9AAkOACjlYEFKACxAQABEBAAGAAYWC/0ACQ4AKOVgQVQALEBAAEQEAAYABhYL/QAJDgAo5WBBXgAsQEAARAQABgAGFgv9AAkOACjlYEFoACxAQABEBAAGAAYWC/0ACQ4AKOVgQXIALEBAAEQEBRgAGFgv9AAkOAAo5WBBfAAsQEAARAQABgAGFgv9AAkOACjlYEGGACxAQABEBAAGAAYWC/0ACQ4AKOVgQZAALEBAAEQEAAYABhYL/QAJDgAo5WBBmgAsQEAARAQABgAGFgv9AAkOACjlYEGkACxAQABEBAAGAAYWC/0ACQ4AKOVgQa4ALEBAAEQEAAYABhYL/QAJDgAo5WBBuAAsQEAARAQABgAGFgv9AAkOACjlYEHCACxAQABEBAAGAAYWC/0ACQ4AKOVgQcwALEBAAEQEAAYABhYL/QAJDgAo5WBB1gAsQEAARAQFGAAYWC/0ACQ4ACjlYEHgACxAQABEBAAGAAYWC/0ACQ4AKOVgQeoALEBAAEQEAAYABhYL/QAJDgAo5WBB9AAsQEAARAQABgAGFgv9AAkOACjlYEH+ACxAQABEBAAGAAYWC/0ACQ4AKOVgQggALEBAAEQEAAYABhYL/QAJDgAo5WBCEgAsQEAARAQABgAGFgv9AAkOACjlYEIcACxAQABEBAAGAAYWC/0ACQ4AKOVgQiYALEBAAEQEAAYABhYL/QAJDgAo5WBCMAAsQEAARAQABgAGFgv9AAkOACjlYEI6ACxAQABEBAUYABhYL/QAJDgAKOVgQkQALEBAAEQEAAYABhYL/QAJDgAo5WBCTgAsQEAARAQABgAGFgv9AAkOACjlYEJYACxAQABEBAAGAAYWC/0ACQ4AKOVgQmIALEBAAEQEAAYABhYL/QAJDgAo5WBCbAAsQEAARAQABgAGFgv9AAkOACjlYEJ2ACxAQABEBAAGAAYWC/0ACQ4AKOVgQoAALEBAAEQEAAYABhYL/QAJDgAo5WBCigAsQEAARAQABgAGFgv9AAkOACjlYEKUACxAQABEBAAGAAYWC/0ACQ4AKOVgQp4ALEBAAEQEBRgAGFgv9AAkOAAo5WBCqAAsQEAARAQABgAGFgv9AAkOACjlYEKyACxAQABEBAAGAAYWC/0ACQ4AKOVgQrwALEBAAEQEAAYABhYL/QAJDgAo5WBCxgAsQEAARAQABgAGFgv9AAkOACjlYELQACxAQABEBAAGAAYWC/0ACQ4AKOVgQtoALEBAAEQEAAYABhYL/QAJDgAo5WBC5AAsQEAARAQABgAGFgv9AAkOACjlYELuACxAQABEBAAGAAYWC/0ACQ4AKOVgQvgALEBAAEQEAAYABhYL/QAJDgAo5WBDAgAsQEAARAQFGAAYWC/0ACQ4ACjlYEMMACxAQABEBAAGAAYWC/0ACQ4AKOVgQxYALEBAAEQEAAYABhYL/QAJDgAo5WBDIAAsQEAARAQABgAGFgv9AAkOACjlYEMqACxAQABEBAAGAAYWC/0ACQ4AKOVgQzQALEBAAEQEAAYABhYL/QAJDgAo5WBDPgAsQEAARAQABgAGFgv9AAkOACjlYENIACxAQABEBAAGAAYWC/0ACQ4AKOVgQ1IALEBAAEQEAAYABhYL/QAJDgAo5WBDXAAsQEAARAQABgAGFgv9AAkOACjlYENmACxAQABEBAUYABhYL/QAJDgAKOVgQ3AALEBAAEQEAAYABhYL/QAJDgAo5WBDegAsQEAARAQABgAGFgv9AAkOACjlYEOEACxAQABEBAAGAAYWC/0ACQ4AKOVgQ44ALEBAAEQEAAYABhYL/QAJDgAo5WBDmAAsQEAARAQABgAGFgv9AAkOACjlYEOiACxAQABEBAAGAAYWC/0ACQ4AKOVgQ6wALEBAAEQEAAYABhYL/QAJDgAo5WBDtgAsQEAARAQABgAGFgv9AAkOACjlYEPAACxAQABEBAAGAAYWC/0ACQ4AKOVgQ8oALEBAAEQEBRgAGFgv9AAkOAAo5WBD1AAsQEAARAQABgAGFgv9AAkOACjlYEPeACxAQABEBAAGAAYWC/0ACQ4AKOVgQ+gALEBAAEQEAAYABhYL/QAJDgAo5WBD8gAsQEAARAQABgAGFgv9AAkOACjlYEP8ACxAQABEBAAGAAYWC/0ACQ4AKOVgRAYALEBAAEQEAAYABhYL/QAJDgAo5WBEEAAsQEAARAQABgAGFgv9AAkOACjlYEQaACxAQABEBAAGAAYWC/0ACQ4AKOVgRCQALEBAAEQEAAYABhYL/QAJDgAo5WBELgAsQEAARAQFGAAYWC/0ACQ4ACjlYEQ4ACxAQABEBAAGAAYWC/0ACQ4AKOVgREIALEBAAEQEAAYABhYL/QAJDgAo5WBETAAsQEAARAQABgAGFgv9AAkOACjlYERWACxAQABEBAAGAAYWC/0ACQ4AKOVgRGAALEBAAEQEAAYABhYL/QAJDgAo5WBEagAsQEAARAQABgAGFgv9AAkOACjlYER0ACxAQABEBAAGAAYWC/0ACQ4AKOVgRH4ALEBAAEQEAAYABhYL/QAJDgAo5WBEiAAsQEAARAQABgAGFgv9AAkOACjlYESSACxAQABEBAUYABhYL/QAJDgAKOVgRJwALEBAAEQEAAYABhYL/QAJDgAo5WBEpgAsQEAARAQABgAGFgv9AAkOACjlYESwACxAQABEBAAGAAYWC/0ACQ4AKOVgRLoALEBAAEQEAAYABhYL/QAJDgAo5WBExAAsQEAARAQABgAGFgv9AAkOACjlYETOACxAQABEBAAGAAYWC/0ACQ4AKOVgRNgALEBAAEQEAAYABhYL/QAJDgAo5WBE4gAsQEAARAQABgAGFgv9AAkOAAfQ7Z1AQAAAAAADMznghOwo5WBAAAAsQEAARAQABgAGFgv9AAkOACjlYEAKACxAQABEBAUYABhYL/QAJDgAKNBioEAUICwCwCdASogACAAAEcIhYWIhYSIAgIATyD8X/DP9oLMH+tfjt+yWjV/FX8kswfoM35Ha8T/GfYD8QX9B9wHs++Xv9P7gX8f/mP+P/KnjM/1V9r/lmCwTSIlcwPFs38ONK9kWTbfeoAA/v//A2MZKF9J//5VYDXbKArwEtEh1AhHwM0u2Owb56av2a+DBdTGDdRU9MPVN5Dwk1Wx+Gd//TaPxCWdf0AfyFN5/IKV/8SyAp5AL8QH3zh3/FB9jE5zN2iY4LCgR/wLV1EqDx66x86GGVP6XvBu6kupkHX4Me0FVIX//wbQn+p4zH2JVuDt+XlFjH/9qm/xpr5aXedd0+F2qevuVBFoKGpX9Xw9N8LkX2OyRWWbNgvzgsDMvTYAgC9ngo0qOPenhx19eALeAHNfKOZsPnLLEKJRPeM4jMSjIOamQmZQ8W4U4R/jJOSg/qr+y8KKZo+KRElM4Dc/o6qJsjIn4voLbXVSUi5LPwQfV/QSUdDoRhzaycGiX/krrnFcsIPhoACjlYEAeACxAQABEBAAGAAYWC/0ACQ4AKOVgQCgALEBAAEQEAAYABhYL/QAJDgAo5WBAMgAsQEAARAQABgAGFgv9AAkOACjlYEA8ACxAQABEBAAGAAYWC/0ACQ4AKOVgQEYALEBAAEQEAAYABhYL/QAJDgAo5WBAUAAsQEAARAQABgAGFgv9AAkOACjlYEBaACxAQABEBAUYABhYL/QAJDgAKOVgQGQALEBAAEQEAAYABhYL/QAJDgAo5WBAbgAsQEAARAQABgAGFgv9AAkOACjlYEB4ACxAQABEBAAGAAYWC/0ACQ4AKOVgQIIALEBAAEQEAAYABhYL/QAJDgAo5WBAjAAsQEAARAQABgAGFgv9AAkOACjlYECWACxAQABEBAAGAAYWC/0ACQ4AKOVgQKAALEBAAEQEAAYABhYL/QAJDgAo5WBAqgAsQEAARAQABgAGFgv9AAkOACjlYEC0ACxAQABEBAAGAAYWC/0ACQ4AKOVgQL4ALEBAAEQEBRgAGFgv9AAkOAAo5WBAyAAsQEAARAQABgAGFgv9AAkOACjlYEDSACxAQABEBAAGAAYWC/0ACQ4AKOVgQNwALEBAAEQEAAYABhYL/QAJDgAo5WBA5gAsQEAARAQABgAGFgv9AAkOACjlYEDwACxAQABEBAAGAAYWC/0ACQ4AKOVgQPoALEBAAEQEAAYABhYL/QAJDgAo5WBBBAAsQEAARAQABgAGFgv9AAkOACjlYEEOACxAQABEBAAGAAYWC/0ACQ4AKOVgQRgALEBAAEQEAAYABhYL/QAJDgAo5WBBIgAsQEAARAQFGAAYWC/0ACQ4ACjlYEEsACxAQABEBAAGAAYWC/0ACQ4AKOVgQTYALEBAAEQEAAYABhYL/QAJDgAo5WBBQAAsQEAARAQABgAGFgv9AAkOACjlYEFKACxAQABEBAAGAAYWC/0ACQ4AKOVgQVQALEBAAEQEAAYABhYL/QAJDgAo5WBBXgAsQEAARAQABgAGFgv9AAkOACjlYEFoACxAQABEBAAGAAYWC/0ACQ4AKOVgQXIALEBAAEQEAAYABhYL/QAJDgAo5WBBfAAsQEAARAQABgAGFgv9AAkOACjlYEGGACxAQABEBAUYABhYL/QAJDgAKOVgQZAALEBAAEQEAAYABhYL/QAJDgAo5WBBmgAsQEAARAQABgAGFgv9AAkOACjlYEGkACxAQABEBAAGAAYWC/0ACQ4AKOVgQa4ALEBAAEQEAAYABhYL/QAJDgAo5WBBuAAsQEAARAQABgAGFgv9AAkOACjlYEHCACxAQABEBAAGAAYWC/0ACQ4AKOVgQcwALEBAAEQEAAYABhYL/QAJDgAo5WBB1gAsQEAARAQABgAGFgv9AAkOACjlYEHgACxAQABEBAAGAAYWC/0ACQ4AKOVgQeoALEBAAEQEBRgAGFgv9AAkOAAo5WBB9AAsQEAARAQABgAGFgv9AAkOACjlYEH+ACxAQABEBAAGAAYWC/0ACQ4AKOVgQggALEBAAEQEAAYABhYL/QAJDgAo5WBCEgAsQEAARAQABgAGFgv9AAkOACjlYEIcACxAQABEBAAGAAYWC/0ACQ4AKOVgQiYALEBAAEQEAAYABhYL/QAJDgAo5WBCMAAsQEAARAQABgAGFgv9AAkOACjlYEI6ACxAQABEBAAGAAYWC/0ACQ4AKOVgQkQALEBAAEQEAAYABhYL/QAJDgAo5WBCTgAsQEAARAQFGAAYWC/0ACQ4ACjlYEJYACxAQABEBAAGAAYWC/0ACQ4AKOVgQmIALEBAAEQEAAYABhYL/QAJDgAo5WBCbAAsQEAARAQABgAGFgv9AAkOACjlYEJ2ACxAQABEBAAGAAYWC/0ACQ4AKOVgQoAALEBAAEQEAAYABhYL/QAJDgAo5WBCigAsQEAARAQABgAGFgv9AAkOACjlYEKUACxAQABEBAAGAAYWC/0ACQ4AKOVgQp4ALEBAAEQEAAYABhYL/QAJDgAo5WBCqAAsQEAARAQABgAGFgv9AAkOACjlYEKyACxAQABEBAUYABhYL/QAJDgAKOVgQrwALEBAAEQEAAYABhYL/QAJDgAo5WBCxgAsQEAARAQABgAGFgv9AAkOACjlYELQACxAQABEBAAGAAYWC/0ACQ4AKOVgQtoALEBAAEQEAAYABhYL/QAJDgAo5WBC5AAsQEAARAQABgAGFgv9AAkOACjlYELuACxAQABEBAAGAAYWC/0ACQ4AKOVgQvgALEBAAEQEAAYABhYL/QAJDgAo5WBDAgAsQEAARAQABgAGFgv9AAkOACjlYEMMACxAQABEBAAGAAYWC/0ACQ4AKOVgQxYALEBAAEQEBRgAGFgv9AAkOAAo5WBDIAAsQEAARAQABgAGFgv9AAkOACjlYEMqACxAQABEBAAGAAYWC/0ACQ4AKOVgQzQALEBAAEQEAAYABhYL/QAJDgAo5WBDPgAsQEAARAQABgAGFgv9AAkOACjlYENIACxAQABEBAAGAAYWC/0ACQ4AKOVgQ1IALEBAAEQEAAYABhYL/QAJDgAo5WBDXAAsQEAARAQABgAGFgv9AAkOACjlYENmACxAQABEBAAGAAYWC/0ACQ4AKOVgQ3AALEBAAEQEAAYABhYL/QAJDgAo5WBDegAsQEAARAQFGAAYWC/0ACQ4ACjlYEOEACxAQABEBAAGAAYWC/0ACQ4AKOVgQ44ALEBAAEQEAAYABhYL/QAJDgAo5WBDmAAsQEAARAQABgAGFgv9AAkOACjlYEOiACxAQABEBAAGAAYWC/0ACQ4AKOVgQ6wALEBAAEQEAAYABhYL/QAJDgAo5WBDtgAsQEAARAQABgAGFgv9AAkOACjlYEPAACxAQABEBAAGAAYWC/0ACQ4AKOVgQ8oALEBAAEQEAAYABhYL/QAJDgAo5WBD1AAsQEAARAQABgAGFgv9AAkOACjlYEPeACxAQABEBAUYABhYL/QAJDgAKOVgQ+gALEBAAEQEAAYABhYL/QAJDgAo5WBD8gAsQEAARAQABgAGFgv9AAkOACjlYEP8ACxAQABEBAAGAAYWC/0ACQ4AKOVgRAYALEBAAEQEAAYABhYL/QAJDgAo5WBEEAAsQEAARAQABgAGFgv9AAkOACjlYEQaACxAQABEBAAGAAYWC/0ACQ4AKOVgRCQALEBAAEQEAAYABhYL/QAJDgAo5WBELgAsQEAARAQABgAGFgv9AAkOACjlYEQ4ACxAQABEBAAGAAYWC/0ACQ4AKOVgREIALEBAAEQEBRgAGFgv9AAkOAAo5WBETAAsQEAARAQABgAGFgv9AAkOACjlYERWACxAQABEBAAGAAYWC/0ACQ4AKOVgRGAALEBAAEQEAAYABhYL/QAJDgAo5WBEagAsQEAARAQABgAGFgv9AAkOACjlYER0ACxAQABEBAAGAAYWC/0ACQ4AKOVgRH4ALEBAAEQEAAYABhYL/QAJDgAo5WBEiAAsQEAARAQABgAGFgv9AAkOACjlYESSACxAQABEBAAGAAYWC/0ACQ4AKOVgRJwALEBAAEQEAAYABhYL/QAJDgAo5WBEpgAsQEAARAQFGAAYWC/0ACQ4ACjlYESwACxAQABEBAAGAAYWC/0ACQ4AKOVgRLoALEBAAEQEAAYABhYL/QAJDgAo5WBExAAsQEAARAQABgAGFgv9AAkOACjlYETOACxAQABEBAAGAAYWC/0ACQ4AKOVgRNgALEBAAEQEAAYABhYL/QAJDgAo5WBE4gAsQEAARAQABgAGFgv9AAkOAAfQ7Z1AQAAAAAADKfngidgo5WBAAAAsQEAARAQABgAGFgv9AAkOACjlYEAKACxAQABEBAAGAAYWC/0ACQ4AKOVgQBQALEBAAEQEAAYABhYL/QAJDgAo5WBAHgAsQEAARAQFGAAYWC/0ACQ4ACjQMiBAKCA0AQAnQEqIAAgAANHCIWFiIWEiA8CAA+KZG4dWxVT4KW48YdXKDjUnrZSdk0DEmQA/v29NP/6izQ/t6FUQk7F9byxoy34jPZIj8YI4ZKDvC2WgfeH8jjfvtJKvT/U830gC1FA37gcmGUAeODFP55D8oPZDVA7rlS34dYnfV4ucweVzKXoZZoS6Jv8xGrawjoreE4ZVpKe0O8wbR4BhbMjWOkV8gJIxres6FdSni9bu+eEZbbpKtbjC2fMYgVk84ySxNFAAKNAsYEAyACxAgAFEBAAGAEbRThTmYgM7YzuxEXhwoDs4R+zv1HQYEy5imaIE/lsU4N+zrzgn/t7lKdlcYCM61A5o95tFGn+Ahie0lgP8VXQ/0NGdgra6C+WX7N+9T06OzcyxMf3U+z1ZC19d/+8j9ph3nGKyoXhCCRy8nkP0SELS8+IUAwZ8F96y1GPBI5/bdl9ZuTqMsIbsD1GOx/G/wxI/Fo018HJSs7+nxPTtWl1diGEAKOVgQDwALEBAAUQEAAYABhYL/QAJDgAo5WBARgAsQEABRAQABgAGFgv9AAkOACjlYEBQACxAQAFEBAAGAAYWC/0ACQ4AKOVgQFoALEBAAUQEAAYABhYL/QAJDgAo5WBAZAAsQEABRAQABgAGFgv9AAkOACjlYEBuACxAQAFEBAUYABhYL/QAJDgAKOVgQHgALEBAAUQEAAYABhYL/QAJDgAo5WBAggAsQEABRAQABgAGFgv9AAkOACjlYECMACxAQAFEBAAGAAYWC/0ACQ4AKOVgQJYALEBAAUQEAAYABhYL/QAJDgAo5WBAoAAsQEABRAQABgAGFgv9AAkOACjlYECqACxAQAFEBAAGAAYWC/0ACQ4AKOVgQLQALEBAAUQEBRgAGFgv9AAkOAAo5WBAvgAsQEABRAQABgAGFgv9AAkOACjlYEDIACxAQAFEBAAGAAYWC/0ACQ4AKOVgQNIALEBAAUQEAAYABhYL/QAJDgAo5WBA3AAsQEABRAQABgAGFgv9AAkOACjlYEDmACxAQAFEBAAGAAYWC/0ACQ4AKOVgQPAALEBAAUQEAAYABhYL/QAJDgAo5WBA+gAsQEABRAQABgAGFgv9AAkOACjlYEEEACxAQAFEBAAGAAYWC/0ACQ4AKOVgQQ4ALEBAAUQEAAYABhYL/QAJDgAo5WBBGAAsQEABRAQFGAAYWC/0ACQ4ACjlYEEiACxAQAFEBAAGAAYWC/0ACQ4AKOVgQSwALEBAAUQEAAYABhYL/QAJDgAo5WBBNgAsQEABRAQABgAGFgv9AAkOACjlYEFAACxAQAFEBAAGAAYWC/0ACQ4AKOVgQUoALEBAAUQEAAYABhYL/QAJDgAo5WBBVAAsQEABRAQABgAGFgv9AAkOACjlYEFeACxAQAFEBAAGAAYWC/0ACQ4AKOVgQWgALEBAAUQEAAYABhYL/QAJDgAo5WBBcgAsQEABRAQABgAGFgv9AAkOACjlYEF8ACxAQAFEBAUYABhYL/QAJDgAKOVgQYYALEBAAUQEAAYABhYL/QAJDgAo5WBBkAAsQEABRAQABgAGFgv9AAkOACjlYEGaACxAQAFEBAAGAAYWC/0ACQ4AKOVgQaQALEBAAUQEAAYABhYL/QAJDgAo5WBBrgAsQEABRAQABgAGFgv9AAkOACjlYEG4ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQcIALEBAAUQEAAYABhYL/QAJDgAo5WBBzAAsQEABRAQABgAGFgv9AAkOACjlYEHWACxAQAFEBAAGAAYWC/0ACQ4AKOVgQeAALEBAAUQEBRgAGFgv9AAkOAAo5WBB6gAsQEABRAQABgAGFgv9AAkOACjlYEH0ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQf4ALEBAAUQEAAYABhYL/QAJDgAo5WBCCAAsQEABRAQABgAGFgv9AAkOACjlYEISACxAQAFEBAAGAAYWC/0ACQ4AKOVgQhwALEBAAUQEAAYABhYL/QAJDgAo5WBCJgAsQEABRAQABgAGFgv9AAkOACjlYEIwACxAQAFEBAAGAAYWC/0ACQ4AKOVgQjoALEBAAUQEAAYABhYL/QAJDgAo5WBCRAAsQEABRAQFGAAYWC/0ACQ4ACjlYEJOACxAQAFEBAAGAAYWC/0ACQ4AKOVgQlgALEBAAUQEAAYABhYL/QAJDgAo5WBCYgAsQEABRAQABgAGFgv9AAkOACjlYEJsACxAQAFEBAAGAAYWC/0ACQ4AKOVgQnYALEBAAUQEAAYABhYL/QAJDgAo5WBCgAAsQEABRAQABgAGFgv9AAkOACjlYEKKACxAQAFEBAAGAAYWC/0ACQ4AKOVgQpQALEBAAUQEAAYABhYL/QAJDgAo5WBCngAsQEABRAQABgAGFgv9AAkOACjlYEKoACxAQAFEBAUYABhYL/QAJDgAKOVgQrIALEBAAUQEAAYABhYL/QAJDgAo5WBCvAAsQEABRAQABgAGFgv9AAkOACjlYELGACxAQAFEBAAGAAYWC/0ACQ4AKOVgQtAALEBAAUQEAAYABhYL/QAJDgAo5WBC2gAsQEABRAQABgAGFgv9AAkOACjlYELkACxAQAFEBAAGAAYWC/0ACQ4AKOVgQu4ALEBAAUQEAAYABhYL/QAJDgAo5WBC+AAsQEABRAQABgAGFgv9AAkOACjlYEMCACxAQAFEBAAGAAYWC/0ACQ4AKOVgQwwALEBAAUQEBRgAGFgv9AAkOAAo5WBDFgAsQEABRAQABgAGFgv9AAkOACjlYEMgACxAQAFEBAAGAAYWC/0ACQ4AKOVgQyoALEBAAUQEAAYABhYL/QAJDgAo5WBDNAAsQEABRAQABgAGFgv9AAkOACjlYEM+ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ0gALEBAAUQEAAYABhYL/QAJDgAo5WBDUgAsQEABRAQABgAGFgv9AAkOACjlYENcACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ2YALEBAAUQEAAYABhYL/QAJDgAo5WBDcAAsQEABRAQFGAAYWC/0ACQ4ACjlYEN6ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ4QALEBAAUQEAAYABhYL/QAJDgAo5WBDjgAsQEABRAQABgAGFgv9AAkOACjlYEOYACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ6IALEBAAUQEAAYABhYL/QAJDgAo5WBDrAAsQEABRAQABgAGFgv9AAkOACjlYEO2ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ8AALEBAAUQEAAYABhYL/QAJDgAo5WBDygAsQEABRAQABgAGFgv9AAkOACjlYEPUACxAQAFEBAUYABhYL/QAJDgAKOVgQ94ALEBAAUQEAAYABhYL/QAJDgAo5WBD6AAsQEABRAQABgAGFgv9AAkOACjlYEPyACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ/wALEBAAUQEAAYABhYL/QAJDgAo5WBEBgAsQEABRAQABgAGFgv9AAkOACjlYEQQACxAQAFEBAAGAAYWC/0ACQ4AKOVgRBoALEBAAUQEAAYABhYL/QAJDgAo5WBEJAAsQEABRAQABgAGFgv9AAkOACjlYEQuACxAQAFEBAAGAAYWC/0ACQ4AKOVgRDgALEBAAUQEBRgAGFgv9AAkOAAo5WBEQgAsQEABRAQABgAGFgv9AAkOACjlYERMACxAQAFEBAAGAAYWC/0ACQ4AKOVgRFYALEBAAUQEAAYABhYL/QAJDgAo5WBEYAAsQEABRAQABgAGFgv9AAkOACjlYERqACxAQAFEBAAGAAYWC/0ACQ4AKOVgRHQALEBAAUQEAAYABhYL/QAJDgAo5WBEfgAsQEABRAQABgAGFgv9AAkOACjlYESIACxAQAFEBAAGAAYWC/0ACQ4AKOVgRJIALEBAAUQEAAYABhYL/QAJDgAo5WBEnAAsQEABRAQFGAAYWC/0ACQ4ACjlYESmACxAQAFEBAAGAAYWC/0ACQ4AKOVgRLAALEBAAUQEAAYABhYL/QAJDgAo5WBEugAsQEABRAQABgAGFgv9AAkOACjlYETEACxAQAFEBAAGAAYWC/0ACQ4AKOVgRM4ALEBAAUQEAAYABhYL/QAJDgAo5WBE2AAsQEABRAQABgAGFgv9AAkOACjlYETiACxAQAFEBAAGAAYWC/0ACQ4AB9DtnUBAAAAAAAMp+eCOxCjlYEAAACxAQAFEBAAGAAYWC/0ACQ4AKOVgQAoALEBAAUQEAAYABhYL/QAJDgAo5WBAFAAsQEABRAQFGAAYWC/0ACQ4ACjlYEAeACxAQAFEBAAGAAYWC/0ACQ4AKOVgQCgALEBAAUQEAAYABhYL/QAJDgAo5WBAMgAsQEABRAQABgAGFgv9AAkOACjQMiBAPCA0AQAnQEqIAAgAANHCIWFiIWEiA8CAA+KZG4dWxVT4KW48YdXKDjUnrZSdk0DEmQA/v29NP/6izQ/t6FUQk7F9byxoy34jPZIj8YI4ZKDvC2WgfeH8jjfvtJKvT/U830gC1FA37gcmGUAeODFP55D8oPZDVA7rlS34dYnfV4ucweVzKXoZZoS6Jv8xGrawjoreE4ZVpKe0O8wbR4BhbMjWOkV8gJIxres6FdSni9bu+eEZbbpKtbjC2fMYgVk84ySxNFAAKNAsYEBGACxAgAFEBAAGAEbRThTmYgM7YzuxEXhwoDs4R+zv1HQYEy5imaIE/lsU4N+zrzgn/t7lKdlcYCM61A5o95tFGn+Ahie0lgP8VXQ/0NGdgra6C+WX7N+9T06OzcyxMf3U+z1ZC19d/+8j9ph3nGKyoXhCCRy8nkP0SELS8+IUAwZ8F96y1GPBI5/bdl9ZuTqMsIbsD1GOx/G/wxI/Fo018HJSs7+nxPTtWl1diGEAKOVgQFAALEBAAUQEAAYABhYL/QAJDgAo5WBAWgAsQEABRAQABgAGFgv9AAkOACjlYEBkACxAQAFEBAAGAAYWC/0ACQ4AKOVgQG4ALEBAAUQEAAYABhYL/QAJDgAo5WBAeAAsQEABRAQABgAGFgv9AAkOACjlYECCACxAQAFEBAUYABhYL/QAJDgAKOVgQIwALEBAAUQEAAYABhYL/QAJDgAo5WBAlgAsQEABRAQABgAGFgv9AAkOACjlYECgACxAQAFEBAAGAAYWC/0ACQ4AKOVgQKoALEBAAUQEAAYABhYL/QAJDgAo5WBAtAAsQEABRAQABgAGFgv9AAkOACjlYEC+ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQMgALEBAAUQEBRgAGFgv9AAkOAAo5WBA0gAsQEABRAQABgAGFgv9AAkOACjlYEDcACxAQAFEBAAGAAYWC/0ACQ4AKOVgQOYALEBAAUQEAAYABhYL/QAJDgAo5WBA8AAsQEABRAQABgAGFgv9AAkOACjlYED6ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQQQALEBAAUQEAAYABhYL/QAJDgAo5WBBDgAsQEABRAQABgAGFgv9AAkOACjlYEEYACxAQAFEBAAGAAYWC/0ACQ4AKOVgQSIALEBAAUQEAAYABhYL/QAJDgAo5WBBLAAsQEABRAQFGAAYWC/0ACQ4ACjlYEE2ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQUAALEBAAUQEAAYABhYL/QAJDgAo5WBBSgAsQEABRAQABgAGFgv9AAkOACjlYEFUACxAQAFEBAAGAAYWC/0ACQ4AKOVgQV4ALEBAAUQEAAYABhYL/QAJDgAo5WBBaAAsQEABRAQABgAGFgv9AAkOACjlYEFyACxAQAFEBAAGAAYWC/0ACQ4AKOVgQXwALEBAAUQEAAYABhYL/QAJDgAo5WBBhgAsQEABRAQABgAGFgv9AAkOACjlYEGQACxAQAFEBAUYABhYL/QAJDgAKOVgQZoALEBAAUQEAAYABhYL/QAJDgAo5WBBpAAsQEABRAQABgAGFgv9AAkOACjlYEGuACxAQAFEBAAGAAYWC/0ACQ4AKOVgQbgALEBAAUQEAAYABhYL/QAJDgAo5WBBwgAsQEABRAQABgAGFgv9AAkOACjlYEHMACxAQAFEBAAGAAYWC/0ACQ4AKOVgQdYALEBAAUQEAAYABhYL/QAJDgAo5WBB4AAsQEABRAQABgAGFgv9AAkOACjlYEHqACxAQAFEBAAGAAYWC/0ACQ4AKOVgQfQALEBAAUQEBRgAGFgv9AAkOAAo5WBB/gAsQEABRAQABgAGFgv9AAkOACjlYEIIACxAQAFEBAAGAAYWC/0ACQ4AKOVgQhIALEBAAUQEAAYABhYL/QAJDgAo5WBCHAAsQEABRAQABgAGFgv9AAkOACjlYEImACxAQAFEBAAGAAYWC/0ACQ4AKOVgQjAALEBAAUQEAAYABhYL/QAJDgAo5WBCOgAsQEABRAQABgAGFgv9AAkOACjlYEJEACxAQAFEBAAGAAYWC/0ACQ4AKOVgQk4ALEBAAUQEAAYABhYL/QAJDgAo5WBCWAAsQEABRAQFGAAYWC/0ACQ4ACjlYEJiACxAQAFEBAAGAAYWC/0ACQ4AKOVgQmwALEBAAUQEAAYABhYL/QAJDgAo5WBCdgAsQEABRAQABgAGFgv9AAkOACjlYEKAACxAQAFEBAAGAAYWC/0ACQ4AKOVgQooALEBAAUQEAAYABhYL/QAJDgAo5WBClAAsQEABRAQABgAGFgv9AAkOACjlYEKeACxAQAFEBAAGAAYWC/0ACQ4AKOVgQqgALEBAAUQEAAYABhYL/QAJDgAo5WBCsgAsQEABRAQABgAGFgv9AAkOACjlYEK8ACxAQAFEBAUYABhYL/QAJDgAKOVgQsYALEBAAUQEAAYABhYL/QAJDgAo5WBC0AAsQEABRAQABgAGFgv9AAkOACjlYELaACxAQAFEBAAGAAYWC/0ACQ4AKOVgQuQALEBAAUQEAAYABhYL/QAJDgAo5WBC7gAsQEABRAQABgAGFgv9AAkOACjlYEL4ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQwIALEBAAUQEAAYABhYL/QAJDgAo5WBDDAAsQEABRAQABgAGFgv9AAkOACjlYEMWACxAQAFEBAAGAAYWC/0ACQ4AKOVgQyAALEBAAUQEBRgAGFgv9AAkOAAo5WBDKgAsQEABRAQABgAGFgv9AAkOACjlYEM0ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQz4ALEBAAUQEAAYABhYL/QAJDgAo5WBDSAAsQEABRAQABgAGFgv9AAkOACjlYENSACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ1wALEBAAUQEAAYABhYL/QAJDgAo5WBDZgAsQEABRAQABgAGFgv9AAkOACjlYENwACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ3oALEBAAUQEAAYABhYL/QAJDgAo5WBDhAAsQEABRAQFGAAYWC/0ACQ4ACjlYEOOACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ5gALEBAAUQEAAYABhYL/QAJDgAo5WBDogAsQEABRAQABgAGFgv9AAkOACjlYEOsACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ7YALEBAAUQEAAYABhYL/QAJDgAo5WBDwAAsQEABRAQABgAGFgv9AAkOACjlYEPKACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ9QALEBAAUQEAAYABhYL/QAJDgAo5WBD3gAsQEABRAQABgAGFgv9AAkOACjlYEPoACxAQAFEBAUYABhYL/QAJDgAKOVgQ/IALEBAAUQEAAYABhYL/QAJDgAo5WBD/AAsQEABRAQABgAGFgv9AAkOACjlYEQGACxAQAFEBAAGAAYWC/0ACQ4AKOVgRBAALEBAAUQEAAYABhYL/QAJDgAo5WBEGgAsQEABRAQABgAGFgv9AAkOACjlYEQkACxAQAFEBAAGAAYWC/0ACQ4AKOVgRC4ALEBAAUQEAAYABhYL/QAJDgAo5WBEOAAsQEABRAQABgAGFgv9AAkOACjlYERCACxAQAFEBAAGAAYWC/0ACQ4AKOVgREwALEBAAUQEBRgAGFgv9AAkOAAo5WBEVgAsQEABRAQABgAGFgv9AAkOACjlYERgACxAQAFEBAAGAAYWC/0ACQ4AKOVgRGoALEBAAUQEAAYABhYL/QAJDgAo5WBEdAAsQEABRAQABgAGFgv9AAkOACjlYER+ACxAQAFEBAAGAAYWC/0ACQ4AKOVgRIgALEBAAUQEAAYABhYL/QAJDgAo5WBEkgAsQEABRAQABgAGFgv9AAkOACjlYEScACxAQAFEBAAGAAYWC/0ACQ4AKOVgRKYALEBAAUQEAAYABhYL/QAJDgAo5WBEsAAsQEABRAQFGAAYWC/0ACQ4ACjlYES6ACxAQAFEBAAGAAYWC/0ACQ4AKOVgRMQALEBAAUQEAAYABhYL/QAJDgAo5WBEzgAsQEABRAQABgAGFgv9AAkOACjlYETYACxAQAFEBAAGAAYWC/0ACQ4AKOVgROIALEBAAUQEAAYABhYL/QAJDgAH0O2dQEAAAAAAAyn54JOwKOVgQAAALEBAAUQEAAYABhYL/QAJDgAo5WBACgAsQEABRAQABgAGFgv9AAkOACjlYEAUACxAQAFEBAAGAAYWC/0ACQ4AKOVgQB4ALEBAAUQEAAYABhYL/QAJDgAo5WBAKAAsQEABRAQFGAAYWC/0ACQ4ACjlYEAyACxAQAFEBAAGAAYWC/0ACQ4AKOVgQDwALEBAAUQEAAYABhYL/QAJDgAo5WBARgAsQEABRAQABgAGFgv9AAkOACjQMiBAUCA0AQAnQEqIAAgAANHCIWFiIWEiA8CAA+KZG4dWxVT4KW48YdXKDjUnrZSdk0DEmQA/v29NP/6izQ/t6FUQk7F9byxoy34jPZIj8YI4ZKDvC2WgfeH8jjfvtJKvT/U830gC1FA37gcmGUAeODFP55D8oPZDVA7rlS34dYnfV4ucweVzKXoZZoS6Jv8xGrawjoreE4ZVpKe0O8wbR4BhbMjWOkV8gJIxres6FdSni9bu+eEZbbpKtbjC2fMYgVk84ySxNFAAKNAsYEBaACxAgAFEBAAGAEbRThTmYgM7YzuxEXhwoDs4R+zv1HQYEy5imaIE/lsU4N+zrzgn/t7lKdlcYCM61A5o95tFGn+Ahie0lgP8VXQ/0NGdgra6C+WX7N+9T06OzcyxMf3U+z1ZC19d/+8j9ph3nGKyoXhCCRy8nkP0SELS8+IUAwZ8F96y1GPBI5/bdl9ZuTqMsIbsD1GOx/G/wxI/Fo018HJSs7+nxPTtWl1diGEAKOVgQGQALEBAAUQEAAYABhYL/QAJDgAo5WBAbgAsQEABRAQABgAGFgv9AAkOACjlYEB4ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQIIALEBAAUQEAAYABhYL/QAJDgAo5WBAjAAsQEABRAQABgAGFgv9AAkOACjlYECWACxAQAFEBAUYABhYL/QAJDgAKOVgQKAALEBAAUQEAAYABhYL/QAJDgAo5WBAqgAsQEABRAQABgAGFgv9AAkOACjlYEC0ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQL4ALEBAAUQEAAYABhYL/QAJDgAo5WBAyAAsQEABRAQABgAGFgv9AAkOACjlYEDSACxAQAFEBAAGAAYWC/0ACQ4AKOVgQNwALEBAAUQEBRgAGFgv9AAkOAAo5WBA5gAsQEABRAQABgAGFgv9AAkOACjlYEDwACxAQAFEBAAGAAYWC/0ACQ4AKOVgQPoALEBAAUQEAAYABhYL/QAJDgAo5WBBBAAsQEABRAQABgAGFgv9AAkOACjlYEEOACxAQAFEBAAGAAYWC/0ACQ4AKOVgQRgALEBAAUQEAAYABhYL/QAJDgAo5WBBIgAsQEABRAQABgAGFgv9AAkOACjlYEEsACxAQAFEBAAGAAYWC/0ACQ4AKOVgQTYALEBAAUQEAAYABhYL/QAJDgAo5WBBQAAsQEABRAQFGAAYWC/0ACQ4ACjlYEFKACxAQAFEBAAGAAYWC/0ACQ4AKOVgQVQALEBAAUQEAAYABhYL/QAJDgAo5WBBXgAsQEABRAQABgAGFgv9AAkOACjlYEFoACxAQAFEBAAGAAYWC/0ACQ4AKOVgQXIALEBAAUQEAAYABhYL/QAJDgAo5WBBfAAsQEABRAQABgAGFgv9AAkOACjlYEGGACxAQAFEBAAGAAYWC/0ACQ4AKOVgQZAALEBAAUQEAAYABhYL/QAJDgAo5WBBmgAsQEABRAQABgAGFgv9AAkOACjlYEGkACxAQAFEBAUYABhYL/QAJDgAKOVgQa4ALEBAAUQEAAYABhYL/QAJDgAo5WBBuAAsQEABRAQABgAGFgv9AAkOACjlYEHCACxAQAFEBAAGAAYWC/0ACQ4AKOVgQcwALEBAAUQEAAYABhYL/QAJDgAo5WBB1gAsQEABRAQABgAGFgv9AAkOACjlYEHgACxAQAFEBAAGAAYWC/0ACQ4AKOVgQeoALEBAAUQEAAYABhYL/QAJDgAo5WBB9AAsQEABRAQABgAGFgv9AAkOACjlYEH+ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQggALEBAAUQEBRgAGFgv9AAkOAAo5WBCEgAsQEABRAQABgAGFgv9AAkOACjlYEIcACxAQAFEBAAGAAYWC/0ACQ4AKOVgQiYALEBAAUQEAAYABhYL/QAJDgAo5WBCMAAsQEABRAQABgAGFgv9AAkOACjlYEI6ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQkQALEBAAUQEAAYABhYL/QAJDgAo5WBCTgAsQEABRAQABgAGFgv9AAkOACjlYEJYACxAQAFEBAAGAAYWC/0ACQ4AKOVgQmIALEBAAUQEAAYABhYL/QAJDgAo5WBCbAAsQEABRAQFGAAYWC/0ACQ4ACjlYEJ2ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQoAALEBAAUQEAAYABhYL/QAJDgAo5WBCigAsQEABRAQABgAGFgv9AAkOACjlYEKUACxAQAFEBAAGAAYWC/0ACQ4AKOVgQp4ALEBAAUQEAAYABhYL/QAJDgAo5WBCqAAsQEABRAQABgAGFgv9AAkOACjlYEKyACxAQAFEBAAGAAYWC/0ACQ4AKOVgQrwALEBAAUQEAAYABhYL/QAJDgAo5WBCxgAsQEABRAQABgAGFgv9AAkOACjlYELQACxAQAFEBAUYABhYL/QAJDgAKOVgQtoALEBAAUQEAAYABhYL/QAJDgAo5WBC5AAsQEABRAQABgAGFgv9AAkOACjlYELuACxAQAFEBAAGAAYWC/0ACQ4AKOVgQvgALEBAAUQEAAYABhYL/QAJDgAo5WBDAgAsQEABRAQABgAGFgv9AAkOACjlYEMMACxAQAFEBAAGAAYWC/0ACQ4AKOVgQxYALEBAAUQEAAYABhYL/QAJDgAo5WBDIAAsQEABRAQABgAGFgv9AAkOACjlYEMqACxAQAFEBAAGAAYWC/0ACQ4AKOVgQzQALEBAAUQEBRgAGFgv9AAkOAAo5WBDPgAsQEABRAQABgAGFgv9AAkOACjlYENIACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ1IALEBAAUQEAAYABhYL/QAJDgAo5WBDXAAsQEABRAQABgAGFgv9AAkOACjlYENmACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ3AALEBAAUQEAAYABhYL/QAJDgAo5WBDegAsQEABRAQABgAGFgv9AAkOACjlYEOEACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ44ALEBAAUQEAAYABhYL/QAJDgAo5WBDmAAsQEABRAQFGAAYWC/0ACQ4ACjlYEOiACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ6wALEBAAUQEAAYABhYL/QAJDgAo5WBDtgAsQEABRAQABgAGFgv9AAkOACjlYEPAACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ8oALEBAAUQEAAYABhYL/QAJDgAo5WBD1AAsQEABRAQABgAGFgv9AAkOACjlYEPeACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ+gALEBAAUQEAAYABhYL/QAJDgAo5WBD8gAsQEABRAQABgAGFgv9AAkOACjlYEP8ACxAQAFEBAUYABhYL/QAJDgAKOVgRAYALEBAAUQEAAYABhYL/QAJDgAo5WBEEAAsQEABRAQABgAGFgv9AAkOACjlYEQaACxAQAFEBAAGAAYWC/0ACQ4AKOVgRCQALEBAAUQEAAYABhYL/QAJDgAo5WBELgAsQEABRAQABgAGFgv9AAkOACjlYEQ4ACxAQAFEBAAGAAYWC/0ACQ4AKOVgREIALEBAAUQEAAYABhYL/QAJDgAo5WBETAAsQEABRAQABgAGFgv9AAkOACjlYERWACxAQAFEBAAGAAYWC/0ACQ4AKOVgRGAALEBAAUQEBRgAGFgv9AAkOAAo5WBEagAsQEABRAQABgAGFgv9AAkOACjlYER0ACxAQAFEBAAGAAYWC/0ACQ4AKOVgRH4ALEBAAUQEAAYABhYL/QAJDgAo5WBEiAAsQEABRAQABgAGFgv9AAkOACjlYESSACxAQAFEBAAGAAYWC/0ACQ4AKOVgRJwALEBAAUQEAAYABhYL/QAJDgAo5WBEpgAsQEABRAQABgAGFgv9AAkOACjlYESwACxAQAFEBAAGAAYWC/0ACQ4AKOVgRLoALEBAAUQEAAYABhYL/QAJDgAo5WBExAAsQEABRAQFGAAYWC/0ACQ4ACjlYETOACxAQAFEBAAGAAYWC/0ACQ4AKOVgRNgALEBAAUQEAAYABhYL/QAJDgAo5WBE4gAsQEABRAQABgAGFgv9AAkOAAfQ7Z1AQAAAAAADB3ngmJwo5WBAAAAsQEABRAQABgAGFgv9AAkOACjlYEAKACxAQAFEBAAGAAYWC/0ACQ4AKOVgQBQALEBAAUQEAAYABhYL/QAJDgAo5WBAHgAsQEABRAQABgAGFgv9AAkOACjlYEAoACxAQAFEBAAGAAYWC/0ACQ4AKOVgQDIALEBAAUQEAAYABhYL/QAJDgAo5WBAPAAsQEABRAQFGAAYWC/0ACQ4ACjlYEBGACxAQAFEBAAGAAYWC/0ACQ4AKOVgQFAALEBAAUQEAAYABhYL/QAJDgAo5WBAWgAsQEABRAQABgAGFgv9AAkOACjQMiBAZCA0AQAnQEqIAAgAANHCIWFiIWEiA8CAA+KZG4dWxVT4KW48YdXKDjUnrZSdk0DEmQA/v29NP/6izQ/t6FUQk7F9byxoy34jPZIj8YI4ZKDvC2WgfeH8jjfvtJKvT/U830gC1FA37gcmGUAeODFP55D8oPZDVA7rlS34dYnfV4ucweVzKXoZZoS6Jv8xGrawjoreE4ZVpKe0O8wbR4BhbMjWOkV8gJIxres6FdSni9bu+eEZbbpKtbjC2fMYgVk84ySxNFAAKNAsYEBuACxAgAFEBAAGAEbRThTmYgM7YzuxEXhwoDs4R+zv1HQYEy5imaIE/lsU4N+zrzgn/t7lKdlcYCM61A5o95tFGn+Ahie0lgP8VXQ/0NGdgra6C+WX7N+9T06OzcyxMf3U+z1ZC19d/+8j9ph3nGKyoXhCCRy8nkP0SELS8+IUAwZ8F96y1GPBI5/bdl9ZuTqMsIbsD1GOx/G/wxI/Fo018HJSs7+nxPTtWl1diGEAKOVgQHgALEBAAUQEAAYABhYL/QAJDgAo5WBAggAsQEABRAQABgAGFgv9AAkOACjlYECMACxAQAFEBAAGAAYWC/0ACQ4AKOVgQJYALEBAAUQEAAYABhYL/QAJDgAo5WBAoAAsQEABRAQABgAGFgv9AAkOACjlYECqACxAQAFEBAUYABhYL/QAJDgAKOVgQLQALEBAAUQEAAYABhYL/QAJDgAo5WBAvgAsQEABRAQABgAGFgv9AAkOACjlYEDIACxAQAFEBAAGAAYWC/0ACQ4AKOVgQNIALEBAAUQEAAYABhYL/QAJDgAo5WBA3AAsQEABRAQABgAGFgv9AAkOACjlYEDmACxAQAFEBAAGAAYWC/0ACQ4AKOVgQPAALEBAAUQEBRgAGFgv9AAkOAAo5WBA+gAsQEABRAQABgAGFgv9AAkOACjlYEEEACxAQAFEBAAGAAYWC/0ACQ4AKOVgQQ4ALEBAAUQEAAYABhYL/QAJDgAo5WBBGAAsQEABRAQABgAGFgv9AAkOACjlYEEiACxAQAFEBAAGAAYWC/0ACQ4AKOVgQSwALEBAAUQEAAYABhYL/QAJDgAo5WBBNgAsQEABRAQABgAGFgv9AAkOACjlYEFAACxAQAFEBAAGAAYWC/0ACQ4AKOVgQUoALEBAAUQEAAYABhYL/QAJDgAo5WBBVAAsQEABRAQFGAAYWC/0ACQ4ACjlYEFeACxAQAFEBAAGAAYWC/0ACQ4AKOVgQWgALEBAAUQEAAYABhYL/QAJDgAo5WBBcgAsQEABRAQABgAGFgv9AAkOACjlYEF8ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQYYALEBAAUQEAAYABhYL/QAJDgAo5WBBkAAsQEABRAQABgAGFgv9AAkOACjlYEGaACxAQAFEBAAGAAYWC/0ACQ4AKOVgQaQALEBAAUQEAAYABhYL/QAJDgAo5WBBrgAsQEABRAQABgAGFgv9AAkOACjlYEG4ACxAQAFEBAUYABhYL/QAJDgAKOVgQcIALEBAAUQEAAYABhYL/QAJDgAo5WBBzAAsQEABRAQABgAGFgv9AAkOACjlYEHWACxAQAFEBAAGAAYWC/0ACQ4AKOVgQeAALEBAAUQEAAYABhYL/QAJDgAo5WBB6gAsQEABRAQABgAGFgv9AAkOACjlYEH0ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQf4ALEBAAUQEAAYABhYL/QAJDgAo5WBCCAAsQEABRAQABgAGFgv9AAkOACjlYEISACxAQAFEBAAGAAYWC/0ACQ4AKOVgQhwALEBAAUQEBRgAGFgv9AAkOAAo5WBCJgAsQEABRAQABgAGFgv9AAkOACjlYEIwACxAQAFEBAAGAAYWC/0ACQ4AKOVgQjoALEBAAUQEAAYABhYL/QAJDgAo5WBCRAAsQEABRAQABgAGFgv9AAkOACjlYEJOACxAQAFEBAAGAAYWC/0ACQ4AKOVgQlgALEBAAUQEAAYABhYL/QAJDgAo5WBCYgAsQEABRAQABgAGFgv9AAkOACjlYEJsACxAQAFEBAAGAAYWC/0ACQ4AKOVgQnYALEBAAUQEAAYABhYL/QAJDgAo5WBCgAAsQEABRAQFGAAYWC/0ACQ4ACjlYEKKACxAQAFEBAAGAAYWC/0ACQ4AKOVgQpQALEBAAUQEAAYABhYL/QAJDgAo5WBCngAsQEABRAQABgAGFgv9AAkOACjlYEKoACxAQAFEBAAGAAYWC/0ACQ4AKOVgQrIALEBAAUQEAAYABhYL/QAJDgAo5WBCvAAsQEABRAQABgAGFgv9AAkOACjlYELGACxAQAFEBAAGAAYWC/0ACQ4AKOVgQtAALEBAAUQEAAYABhYL/QAJDgAo5WBC2gAsQEABRAQABgAGFgv9AAkOACjlYELkACxAQAFEBAUYABhYL/QAJDgAKOVgQu4ALEBAAUQEAAYABhYL/QAJDgAo5WBC+AAsQEABRAQABgAGFgv9AAkOACjlYEMCACxAQAFEBAAGAAYWC/0ACQ4AKOVgQwwALEBAAUQEAAYABhYL/QAJDgAo5WBDFgAsQEABRAQABgAGFgv9AAkOACjlYEMgACxAQAFEBAAGAAYWC/0ACQ4AKOVgQyoALEBAAUQEAAYABhYL/QAJDgAo5WBDNAAsQEABRAQABgAGFgv9AAkOACjlYEM+ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ0gALEBAAUQEBRgAGFgv9AAkOAAo5WBDUgAsQEABRAQABgAGFgv9AAkOACjlYENcACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ2YALEBAAUQEAAYABhYL/QAJDgAo5WBDcAAsQEABRAQABgAGFgv9AAkOACjlYEN6ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ4QALEBAAUQEAAYABhYL/QAJDgAo5WBDjgAsQEABRAQABgAGFgv9AAkOACjlYEOYACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ6IALEBAAUQEAAYABhYL/QAJDgAo5WBDrAAsQEABRAQFGAAYWC/0ACQ4ACjlYEO2ACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ8AALEBAAUQEAAYABhYL/QAJDgAo5WBDygAsQEABRAQABgAGFgv9AAkOACjlYEPUACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ94ALEBAAUQEAAYABhYL/QAJDgAo5WBD6AAsQEABRAQABgAGFgv9AAkOACjlYEPyACxAQAFEBAAGAAYWC/0ACQ4AKOVgQ/wALEBAAUQEAAYABhYL/QAJDgAo5WBEBgAsQEABRAQABgAGFgv9AAkOACjlYEQQACxAQAFEBAUYABhYL/QAJDgAKOVgRBoALEBAAUQEAAYABhYL/QAJDgAo5WBEJAAsQEABRAQABgAGFgv9AAkOACjlYEQuACxAQAFEBAAGAAYWC/0ACQ4AKOVgRDgALEBAAUQEAAYABhYL/QAJDgAo5WBEQgAsQEABRAQABgAGFgv9AAkOACjlYERMACxAQAFEBAAGAAYWC/0ACQ4AKOVgRFYALEBAAUQEAAYABhYL/QAJDgAo5WBEYAAsQEABRAQABgAGFgv9AAkOACjlYERqACxAQAFEBAAGAAYWC/0ACQ4AKOVgRHQALEBAAUQEBRgAGFgv9AAkOAAo5WBEfgAsQEABRAQABgAGFgv9AAkOACjlYESIACxAQAFEBAAGAAYWC/0ACQ4AKOVgRJIALEBAAUQEAAYABhYL/QAJDgAo5WBEnAAsQEABRAQABgAGFgv9AAkOACjlYESmACxAQAFEBAAGAAYWC/0ACQ4ABxTu2sBAAAAAAAAWbuMs4EAt4f3gQHxggFzu42zghQAt4f3gQHxgg5Ku42zgigAt4f3gQHxghsiu42zgjwAt4f3gQHxgifVu42zglAAt4f3gQHxgjSIu42zgmQAt4f3gQHxgkE7';
    this.wakeLockVideo.play();
  }

}

/**
 * Turn off cross-browser functionality to keep a mobile device from
 * auto-locking.
 */
WebVRManager.prototype.releaseWakeLock = function() {
  if (this.os == 'iOS') {
    if (this.wakeLockTimer) {
      clearInterval(this.wakeLockTimer);
      this.wakeLockTimer = null;
    }
  } else if (this.os == 'Android') {
    this.wakeLockVideo.pause();
    this.wakeLockVideo.src = '';
  }
}

WebVRManager.prototype.getOS = function(osName) {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;
  if (userAgent.match(/iPhone/i) || userAgent.match(/iPod/i)) {
    return 'iOS';
  } else if (userAgent.match(/Android/i)) {
    return 'Android';
  }
  return 'unknown';
};

WebVRManager.prototype.enterVR = function() {
  this.effect.setFullScreen(true);
};

WebVRManager.prototype.exitVR = function() {
  this.effect.setFullScreen(false);
};
